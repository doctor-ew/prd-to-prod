# Milestone MS-01.02: Map Rendering

## Framework: C-R-A-F-T

### Context
The core feature of the Atlanta FIFA Navigator is the map. This milestone focuses on creating the initial user-facing view: a full-screen, interactive map of Atlanta with a clear marker on the primary venue, Mercedes-Benz Stadium. This visual anchor is the first thing users will see and the foundation upon which all other data layers (transit, events) will be built.

### Resources
-   **Technology**: Google Maps JavaScript API, React, Next.js, Tailwind CSS.
-   **Assets**: A custom SVG icon for the stadium marker (can be a simple placeholder for now).
-   **API Keys**: A `GOOGLE_MAPS_API_KEY` is required and must be configured in `.env.local`.

### Art Style
-   **Map**: Clean and modern. Use a custom map style (e.g., from Snazzy Maps or Google's own style editor) to reduce visual noise and emphasize key city features and transit lines. The default Google Maps style is too cluttered.
-   **UI**: Minimalist. The map should be the hero element, taking up the full viewport. No sidebars or complex navigation at this stage.
-   **Markers**: High-contrast and easily identifiable.

### Theme
The theme is "clarity and focus." The user should immediately understand their orientation and the location of the main point of interest. The map should feel fast, responsive, and professional.

### Form
-   A client-side React component (`MapView.tsx`) that handles the map's lifecycle.
-   A reusable `VenueMarker.tsx` component for displaying stadium icons.
-   The main page (`/`) will render the `MapView` component.

---

## Learning Outcomes

-   **Outcome 1**: Learn how to integrate a third-party JavaScript library (Google Maps) into a Next.js client-side component.
-   **Outcome 2**: Understand the management of API keys and environment variables for client-side libraries in a Next.js application.
-   **Outcome 3**: Gain experience with creating reusable, visually distinct map marker components.

---

## Context from Source Docs

**Business Rationale (PRD)**: To provide a user-friendly navigation experience. The map is the central element of this experience.
**WBS Alignment**: Phase 3 -> Task 3.1 (Frontend development).
**Dependencies**: MS-01.01 (Project Setup).
**Files to Create/Modify**:
-   `src/components/MapView.tsx`
-   `src/components/VenueMarker.tsx`
-   `src/app/(main)/page.tsx`
-   `.env.local` (developer-managed)

**Acceptance Criteria**:
-   A Google Map renders and fills the entire screen.
-   The map is centered on Atlanta, GA.
-   A custom icon for Mercedes-Benz Stadium appears at its correct coordinates.
-   There are no errors in the browser console related to the Google Maps API.

---

## Guardrails

-   **Security**: The `GOOGLE_MAPS_API_KEY` must be loaded from an environment variable. While it will be exposed client-side (which is necessary for the Maps JS API), it should be restricted to the application's domain in the Google Cloud Console for production.
-   **Performance**: The map should load in under 3 seconds on a simulated 3G connection. Lazy-load the Google Maps script if necessary.
-   **Technology**: Use an official or well-maintained Google Maps React wrapper library (e.g., `@vis.gl/react-google-maps`) to simplify integration.
-   **UX**: The map must be interactive (pan, zoom) and responsive.

---

## Implementation Checklist

-   [ ] **Task 1**: Install Google Maps React library.
    -   **Command**: `pnpm add @vis.gl/react-google-maps`
    -   **Acceptance**: The dependency is added to `package.json`.
-   [ ] **Task 2**: Create the main `MapView` component.
    -   **Files**: `src/components/MapView.tsx`, `src/app/(main)/page.tsx`
    -   **Logic**: This component will wrap the map provider and set the initial camera position (center and zoom). It must load the Google Maps API key from an environment variable.
    -   **Acceptance**: A Google Map renders within the component.
-   [ ] **Task 3**: Style the map to be full-screen.
    -   **Files**: `src/app/globals.css` or Tailwind classes in `MapView.tsx`.
    -   **Acceptance**: The map view takes up the entire viewport without scrollbars.
-   [ ] **Task 4**: Create and add the static `VenueMarker` for Mercedes-Benz Stadium.
    -   **Files**: `src/components/VenueMarker.tsx`
    -   **Logic**: This component will use the `AdvancedMarker` from the Google Maps library to display a custom element (e.g., an `img` tag with an SVG icon). Hardcode the latitude/longitude for the stadium.
    -   **Acceptance**: A custom icon for the stadium appears on the map at the correct location.

---

## Testing Requirements

-   [ ] **Unit Test**: N/A for this highly visual component.
-   [ ] **Integration Test**: N/A.
-   [ ] **Manual Verification**:
    -   Load the application and confirm a full-screen, interactive Google Map is displayed.
    -   Verify the map is centered on Atlanta.
    -   Verify the stadium marker is present and correctly positioned.
    -   Check the browser's developer console for any API key errors or other warnings.
    -   Test on different screen sizes to ensure the map remains full-screen and responsive.

---

## Success Criteria

This milestone is complete when:
1.  The application loads to a full-screen, interactive map of Atlanta.
2.  A clear, custom marker indicates the location of Mercedes-Benz Stadium.
3.  The implementation adheres to all security and performance guardrails.
4.  All acceptance criteria are met.

# Milestone MS-01.01: Project Setup

## Framework: S-P-A-R-K

### Situation
We are starting a new project, the "Atlanta FIFA Navigator," from scratch. We need to establish a solid foundation using the approved technology stack (Next.js, Prisma, TypeScript) and configure it for a seamless development experience in GitHub Codespaces.

### Purpose
The goal is to create a reproducible, correctly configured project skeleton that allows any developer to start coding immediately after cloning the repository and launching a Codespace. This initial setup is critical for preventing configuration issues later in the project.

### Audience
This prompt is for an AI coding assistant or a developer who is setting up the project for the first time.

### Roadmap
1.  Initialize a new Next.js project with the App Router.
2.  Install and configure Prisma ORM to work with SQLite for development.
3.  Install and configure Tailwind CSS for styling.
4.  Set up the GitHub Codespaces development container to automate the installation and database migration process.

### Knowledge
-   Next.js project structure (`app/` router).
-   Prisma schema definition and migration commands.
-   GitHub Codespaces `devcontainer.json` and lifecycle scripts (`postCreateCommand`).
-   Basic `pnpm` commands.

---

## Learning Outcomes

-   **Outcome 1**: Understand how to initialize a modern, type-safe web application using Next.js and TypeScript.
-   **Outcome 2**: Learn to integrate Prisma as an ORM, including schema definition and the migration workflow for a local SQLite database.
-   **Outcome 3**: Gain experience in configuring a reproducible development environment using GitHub Codespaces, which is a critical skill for team-based projects.

---

## Context from Source Docs

**Business Rationale (PRD)**: To provide a user-friendly navigation experience for FIFA event attendees in Atlanta. This milestone lays the essential groundwork for all subsequent features.
**WBS Alignment**: Phase 3: Core Development. This is the first step in Task 3.1 (Frontend development) and 3.2 (Backend services).
**Dependencies**: None. This is the first implementation milestone.
**Files to Create/Modify**:
-   `package.json`
-   `next.config.mjs`
-   `tsconfig.json`
-   `prisma/schema.prisma`
-   `.env.example`
-   `.devcontainer/devcontainer.json`
-   `.devcontainer/postCreate.sh`

**Acceptance Criteria**:
-   The default Next.js application runs successfully with `pnpm dev`.
-   `pnpm prisma migrate dev --name init` runs successfully and creates the `dev.db` file and Prisma Client.
-   A new Codespace builds successfully and runs the database migration automatically.

---

## Guardrails

-   **Technology Stack (APPROVED)**: Next.js `^14.0.0`, TypeScript `^5.0.0`, Prisma `^5.0.0`, SQLite `^5.0.0`, pnpm `^8.0.0`.
-   **Development Environment**: Must be GitHub Codespaces.
-   **Technology Stack (FORBIDDEN)**: Do not use `npm` or `yarn`. Do not use any other database for development.
-   **Scope Boundaries**: Do not add any UI components or API routes in this milestone. Focus solely on project initialization and configuration.

---

## Implementation Checklist

-   [ ] **Task 1**: Initialize Next.js App Router project.
    -   **Command**: `pnpm create next-app@latest . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"`
    -   **Acceptance**: The default Next.js application runs successfully with `pnpm dev`.
-   [ ] **Task 2**: Install and configure Prisma with SQLite.
    -   **Commands**:
        -   `pnpm add -D prisma`
        -   `pnpm add @prisma/client`
        -   `pnpm prisma init --datasource-provider sqlite`
    -   **Files**:
        -   Update `prisma/schema.prisma` with the full data model from `docs/spec.md`.
        -   Create `.env` and set `DATABASE_URL="file:./dev.db"`.
        -   Create `.env.example` with `DATABASE_URL` as a template.
    -   **Acceptance**: `pnpm prisma migrate dev --name init` runs without errors, creating the `prisma/dev.db` file.
-   [ ] **Task 3**: Set up `.devcontainer` for Codespaces automation.
    -   **Files**:
        -   `.devcontainer/devcontainer.json`: Configure `postCreateCommand`.
        -   `.devcontainer/postCreate.sh`: A shell script to run `pnpm install` and `pnpm prisma migrate dev`.
    -   **Acceptance**: Launching a new GitHub Codespace for the repository results in a fully installed and migrated environment automatically.

---

## Testing Requirements

-   [ ] **Manual Verification**: Run `pnpm dev` in the Codespace terminal and verify the Next.js welcome page loads in the browser.
-   [ ] **Manual Verification**: Check that the `prisma/dev.db` file exists.
-   [ ] **Manual Verification**: Rebuild the Codespace and confirm the `postCreateCommand` runs successfully without manual intervention.

---

## Success Criteria

This milestone is complete when:
1.  A developer can open the repository in a new GitHub Codespace and have all dependencies installed and the database migrated automatically.
2.  The application can be started with `pnpm dev` without any further setup steps.
3.  All acceptance criteria are met.

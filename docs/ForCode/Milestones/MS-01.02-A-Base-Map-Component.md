# Milestone MS-01.02-A: Base Map Component

## Framework: S-P-A-R-K

### Situation
The project is set up, but the main page is blank. We need to render the foundational visual element of the entire application: the interactive map. This component will serve as the canvas for all future features like transit markers and event locations.

### Purpose
The goal is to create a reusable React component that initializes and displays a full-screen Google Map centered on Atlanta. This is the first step in building the user's primary interface.

### Audience
This prompt is for an AI coding assistant being guided by a non-technical user. The instructions must be followed exactly.

### Roadmap
1.  Install the recommended third-party library for integrating Google Maps with React.
2.  Create a new `MapView` component file.
3.  Implement the component to load the Google Maps API and display a map.
4.  Add the new component to the main application page.
5.  Apply styles to make the map fill the entire browser window.

### Knowledge
-   You will be using the `@vis.gl/react-google-maps` library.
-   The Google Maps API requires an API key, which must be loaded from an environment variable.
-   Styling will be done with Tailwind CSS utility classes.

---

## Learning Outcomes

-   **Outcome 1**: Learn the fundamental process of integrating a third-party, script-dependent library like Google Maps into a Next.js client component.
-   **Outcome 2**: Understand how to securely manage and provide client-side API keys in a Next.js application.
-   **Outcome 3**: Establish the core visual component that the rest of the application will be built upon.

---

## Context from Source Docs

**Business Rationale (PRD)**: The primary goal is to provide a user-friendly navigation experience. A visible, functional map is the first and most critical step.
**WBS Alignment**: Phase 3 -> Task 3.1 (Frontend development). This is the first part of the "Map Rendering" feature.
**Dependencies**: MS-01.01 (Project Setup).
**Files to Create/Modify**:
-   `package.json`
-   `src/components/MapView.tsx` (new file)
-   `src/app/(main)/page.tsx`
-   `src/app/globals.css`
-   `.env.local` (must be created by the user with their key)

**Acceptance Criteria**:
-   A Google Map renders and fills the entire screen.
-   The map is centered on Atlanta, GA (Latitude: 33.749, Longitude: -84.388).
-   The map is interactive (pannable and zoomable).
-   There are no errors in the browser console related to the Google Maps API.

---

## Guardrails

-   **Security**: The `GOOGLE_MAPS_API_KEY` **must** be loaded from a `NEXT_PUBLIC_` prefixed environment variable (e.g., `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY`). This is a specific requirement for client-side access in Next.js.
-   **Performance**: The map must load in under 3 seconds. The chosen library handles lazy-loading of the Google Maps script.
-   **Technology**: You **must** use the `@vis.gl/react-google-maps` library. Do not use any other Google Maps library.
-   **UX**: The map must be full-screen, with no visible scrollbars on the page.

---

## Implementation Checklist

-   [ ] **Task 1**: Install the Google Maps React library.
    -   **Action**: Run this exact command in the terminal: `pnpm add @vis.gl/react-google-maps`
    -   **Acceptance**: The dependency is added to `package.json`.
-   [ ] **Task 2**: Create the `MapView` component.
    -   **Action**: Create a new file at `src/components/MapView.tsx`. Add the following code. This component is a client component (`'use client'`) and initializes the map centered on Atlanta.
    ```tsx
    'use client';

    import React from 'react';
    import { APIProvider, Map } from '@vis.gl/react-google-maps';

    const MapView = () => {
      const position = { lat: 33.7490, lng: -84.3880 };

      return (
        <APIProvider apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY!}>
          <div className="h-full w-full">
            <Map
              defaultCenter={position}
              defaultZoom={12}
              gestureHandling={'greedy'}
              disableDefaultUI={true}
            />
          </div>
        </APIProvider>
      );
    };

    export default MapView;
    ```
    -   **Acceptance**: The file is created with the specified content.
-   [ ] **Task 3**: Add the `MapView` component to the main page.
    -   **Action**: Open `src/app/(main)/page.tsx` and replace its content with the following to render the map.
    ```tsx
    import MapView from '@/components/MapView';

    export default function Home() {
      return (
        <main className="h-screen w-screen">
          <MapView />
        </main>
      );
    }
    ```
    -   **Acceptance**: The main page now imports and renders the `MapView` component.
-   [ ] **Task 4**: Ensure the layout allows for a full-screen map.
    -   **Action**: Open `src/app/globals.css` and ensure the `html` and `body` tags are styled to take up 100% of the height.
    ```css
    @tailwind base;
    @tailwind components;
    @tailwind utilities;

    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden; /* Prevents scrollbars */
    }
    ```
    -   **Acceptance**: The CSS file is updated to prevent scrollbars and allow full-height content.

---

## Testing Requirements

-   [ ] **Manual Verification**:
    1.  Create a `.env.local` file in the root of the project.
    2.  Add your Google Maps API key to it like this: `NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=YOUR_API_KEY_HERE`.
    3.  Run `pnpm dev`.
    4.  Open the application in a browser.
    5.  **Confirm**: A map of Atlanta fills the entire browser window.
    6.  **Confirm**: You can pan and zoom the map.
    7.  **Confirm**: There are no errors in the browser's developer console.

---

## Success Criteria

This milestone is complete when:
1.  The application successfully displays a full-screen, interactive Google Map centered on Atlanta.
2.  The implementation uses the specified `@vis.gl/react-google-maps` library.
3.  The API key is managed correctly via environment variables.
4.  All acceptance criteria are met and manual verification passes.

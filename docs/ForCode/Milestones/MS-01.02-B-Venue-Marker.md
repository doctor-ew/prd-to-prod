# Milestone MS-01.02-B: Venue Marker

## Framework: S-P-A-R-K

### Situation
We have a base map of Atlanta rendering, but it lacks context. Users need to see the key points of interest for the FIFA World Cup. The most important location is the Mercedes-Benz Stadium, which should be immediately visible.

### Purpose
The goal is to create a reusable marker component and place it on the map to visually identify the Mercedes-Benz Stadium. This establishes a pattern for how all markers will be added to the map.

### Audience
This prompt is for an AI coding assistant being guided by a non-technical user. The instructions must be followed exactly.

### Roadmap
1.  Create a new `VenueMarker` component file.
2.  Implement the component to display a custom icon using the Google Maps `AdvancedMarker` element.
3.  Add the new `VenueMarker` component inside the `MapView` component to make it appear on the map.
4.  Create a placeholder SVG icon for the stadium.

### Knowledge
-   You will be using the `AdvancedMarker` component from the `@vis.gl/react-google-maps` library.
-   Markers require a precise latitude and longitude to be placed correctly.
-   Custom markers are created by passing a React element (like an `img` tag) to the `AdvancedMarker`.

---

## Learning Outcomes

-   **Outcome 1**: Learn how to add custom, visually distinct markers to a Google Map using a modern React library.
-   **Outcome 2**: Understand the pattern of composing components, placing a `Marker` component as a child of a `Map` component.
-   **Outcome 3**: Create a reusable component that can be used in the future to display markers for any venue.

---

## Context from Source Docs

**Business Rationale (PRD)**: Users need to easily find match schedules and navigate to stadiums. Marking the stadium on the map is the first step to achieving this.
**WBS Alignment**: Phase 3 -> Task 3.1 (Frontend development). This is the second part of the "Map Rendering" feature.
**Dependencies**: MS-01.02-A (Base Map Component).
**Files to Create/Modify**:
-   `src/components/VenueMarker.tsx` (new file)
-   `src/components/MapView.tsx`
-   `public/assets/stadium-icon.svg` (new file)

**Acceptance Criteria**:
-   A custom icon for Mercedes-Benz Stadium appears on the map.
-   The icon is positioned at the correct coordinates (Latitude: 33.7555, Longitude: -84.4008).
-   The marker is static and does not move when the map is panned.

---

## Guardrails

-   **Technology**: You **must** use the `<AdvancedMarker>` component from `@vis.gl/react-google-maps`.
-   **UX**: The marker icon must be easily distinguishable from the base map. It should be clear and not pixelated.
-   **Code Quality**: The marker logic must be encapsulated in its own `VenueMarker.tsx` component to be reusable. Do not define it directly inside `MapView.tsx`.

---

## Implementation Checklist

-   [ ] **Task 1**: Create a placeholder SVG icon for the stadium.
    -   **Action**: Create a new directory `public/assets`. Inside, create a new file named `stadium-icon.svg`. Add the following SVG code. It's a simple circle to represent the stadium.
    ```xml
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#DB3236" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10" />
    </svg>
    ```
    -   **Acceptance**: The file `public/assets/stadium-icon.svg` is created with the SVG content.
-   [ ] **Task 2**: Create the `VenueMarker` component.
    -   **Action**: Create a new file at `src/components/VenueMarker.tsx`. Add the following code. This component will render the visual marker.
    ```tsx
    'use client';

    import React from 'react';
    import { AdvancedMarker } from '@vis.gl/react-google-maps';

    type VenueMarkerProps = {
      lat: number;
      lng: number;
    };

    const VenueMarker = ({ lat, lng }: VenueMarkerProps) => {
      return (
        <AdvancedMarker position={{ lat, lng }}>
          <img src="/assets/stadium-icon.svg" alt="Stadium" width="32" height="32" />
        </AdvancedMarker>
      );
    };

    export default VenueMarker;
    ```
    -   **Acceptance**: The file is created with the specified content.
-   [ ] **Task 3**: Add the `VenueMarker` to the `MapView`.
    -   **Action**: Open `src/components/MapView.tsx` and modify it to include the `VenueMarker`.
    ```tsx
    'use client';

    import React from 'react';
    import { APIProvider, Map } from '@vis.gl/react-google-maps';
    import VenueMarker from './VenueMarker';

    const MapView = () => {
      const position = { lat: 33.7490, lng: -84.3880 };
      const stadiumPosition = { lat: 33.7555, lng: -84.4008 };

      return (
        <APIProvider apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY!}>
          <div className="h-full w-full">
            <Map
              defaultCenter={position}
              defaultZoom={14} // Zoom in a bit closer
              gestureHandling={'greedy'}
              disableDefaultUI={true}
              mapId="fifa-map-style" // Optional: for custom styling later
            >
              <VenueMarker lat={stadiumPosition.lat} lng={stadiumPosition.lng} />
            </Map>
          </div>
        </APIProvider>
      );
    };

    export default MapView;
    ```
    -   **Acceptance**: `MapView.tsx` is updated to import and render the `VenueMarker` component at the specified coordinates. The default zoom is increased to 14.

---

## Testing Requirements

-   [ ] **Manual Verification**:
    1.  Run `pnpm dev`.
    2.  Open the application in a browser.
    3.  **Confirm**: The map is now zoomed in closer to downtown Atlanta.
    4.  **Confirm**: A red circular icon is visible on the map, marking the location of the Mercedes-Benz Stadium.
    5.  **Confirm**: Panning the map moves the map background, but the marker stays fixed at its geographical coordinates.

---

## Success Criteria

This milestone is complete when:
1.  A custom SVG icon is successfully displayed as a marker on the map.
2.  The marker is correctly positioned at the coordinates of the Mercedes-Benz Stadium.
3.  The marker logic is encapsulated in a reusable `VenueMarker` component.
4.  All acceptance criteria are met and manual verification passes.
